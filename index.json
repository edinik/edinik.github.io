[{"content":"äº‘æœåŠ¡å™¨/VPS çš„é…ç½® 1ã€æ–¹å¼ä¸€ï¼šä½¿ç”¨ä¸€é”®è„šæœ¬å®‰è£… ç¼ºç‚¹ï¼šæ— æ³•è‡ªå®šä¹‰é…ç½®ï¼Œåªèƒ½ä½¿ç”¨è„šæœ¬é»˜è®¤è®¾ç½®\n1ã€æ¨èéhostæ¨¡å¼ä¸‹æ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼ˆå¯ä»¥å…±äº«ä¸»æœºç«¯å£ï¼‰\nhostæ¨¡å¼æ— æ³•æ˜ å°„dockerç«¯å£åˆ°ä¸»æœº éhostæ¨¡å¼ä¸‹ä¼šå°†dockerçš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„8443ç«¯å£\n# éhostæ¨¡å¼å®‰è£… bash -c \u0026#34;$(curl -s http://docker.xiaoya.pro/update_new.sh)\u0026#34; # hostæ¨¡å¼å®‰è£… bash -c \u0026#34;$(curl -s http://docker.xiaoya.pro/update_new.sh)\u0026#34; -s host 2ã€è¾“å…¥é˜¿é‡Œäº‘ç›˜çš„Token\né˜¿é‡Œäº‘ç›˜çš„Tokenè·å–æ•™ç¨‹\n3ã€è¾“å…¥é˜¿é‡Œäº‘ç›˜Opençš„Token\né˜¿é‡Œäº‘ç›˜Opençš„Tokenè·å–æ•™ç¨‹\n4ã€è®¾ç½®è½¬å­˜ç›®å½•ID\næ‰“å¼€é˜¿é‡Œäº‘ç›˜ è¿›å…¥è½¬å­˜ç›®å½• æ‹·è´åœ°å€æ ä¸­fold/åä¸€ä¸²ID 5ã€è®¾ç½®å¼ºåˆ¶ç™»å½•\nä¹Ÿå¯ä»¥é€šè¿‡vimç­‰ç¼–è¾‘å™¨åˆ›å»ºä¸€ä¸ªguestlogin.txtæ–‡ä»¶ï¼Œå†…å®¹å¯ä¸ºç©º è‹¥éœ€è¦å–æ¶ˆå¼ºåˆ¶ç™»å½•ï¼Œåˆ™å¯ä»¥åˆ é™¤guestlogin.txtæ–‡ä»¶\ntouch /etc/xiaoya/guestlogin.txt 6ã€è®¾ç½®è‡ªå®šä¹‰å¯†ç \né»˜è®¤ç”¨æˆ·åï¼šdav\nvim /etc/xiaoya/guestpass.txt åœ¨guestpass.txtæ–‡ä»¶ä¸­è¾“å…¥è‡ªå®šä¹‰å¯†ç ï¼Œæœ€å¥½ä¸è¦åŒ…å«ç‰¹æ®Šå­—ç¬¦\n7ã€é‡å¯docker\nsudo systemctl restart docker 8ã€é€šè¿‡Cloudfareæˆ–å…¶å®ƒDNSè§£ææœåŠ¡å°†åŸŸåè§£æåˆ°æœåŠ¡å™¨\n9ã€é€šè¿‡å®å¡”ç•Œé¢å°†åŸŸååä»£åˆ°8443ç«¯å£ï¼Œå¹¶å¼€å¯https\n10ã€è®¿é—®åŸŸåå³å¯\nç½‘ç«™éœ€è¦å¯¹èµ„æºè¿›è¡Œç´¢å¼•ï¼Œå¤§æ¦‚ä¼šæŒç»­åå‡ åˆ†é’Ÿ\n2ã€æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£… 1ã€æ‹‰å–xiaoyaçš„docker\nrm -rf /etc/xiaoyaAlist/mytoken.txt # åˆ é™¤æ—§çš„tokenæ–‡ä»¶ mkdir -p /etc/xiaoyaAlist # åˆ›å»ºé…ç½®æ–‡ä»¶å¤¹ touch /etc/xiaoyaAlist/guestlogin.txt # åˆ›å»ºå¼ºåˆ¶ç™»å½•æ–‡ä»¶ï¼Œè‹¥ä¸éœ€è¦å¼ºåˆ¶ç™»å½•åˆ™ä¸åˆ›å»ºè¯¥æ–‡ä»¶ touch /etc/xiaoyaAlist/guestpass.txt # åˆ›å»ºè‡ªå®šä¹‰å¯†ç æ–‡ä»¶ touch /etc/xiaoyaAlist/mytoken.txt # åˆ›å»ºtokenæ–‡ä»¶ touch /etc/xiaoyaAlist/myopentoken.txt # åˆ›å»ºopen tokenæ–‡ä»¶ touch /etc/xiaoyaAlist/temp_transfer_folder_id.txt # åˆ›å»ºè½¬å­˜ç›®å½•IDæ–‡ä»¶ # æ ¼å¼ï¼š\u0026#34;xxxxxxxx\u0026#34; \u0026#34;yyyyyyyy\u0026#34; è´¦å·å¯ä»¥æ˜¯é‚®ç®±å’Œæ‰‹æœºå·ï¼Œæ‰‹æœºå·å‰é¢è¦åŠ åŒºå·ï¼Œä¹Ÿå°±æ˜¯ \u0026#34;+86xxxx\u0026#34; è¿™æ ·ï¼Œæ³¨å†Œå¦‚æœç”¨è°·æ­Œå¿«æ·æ–¹å¼ç™»å…¥çš„è¯æ˜¯æ— æ³•ä½¿ç”¨è°·æ­Œé‚®ç®±ç™»å…¥çš„ï¼ˆalistä¸æ”¯æŒï¼‰ touch /etc/xiaoyaAlist/pikpak.txt touch /etc/xiaoyaAlist/show_my_ali.txt # é€šè¿‡æ­¤æ–‡ä»¶çš„å­˜åœ¨ä¸å¦æ¥å†³å®šæ˜¯å¦åŠ è½½è‡ªå·±çš„é˜¿é‡Œäº‘ç›˜ï¼Œè‹¥ä¸éœ€è¦åŠ è½½åˆ™ä¸åˆ›å»ºè¯¥æ–‡ä»¶ # é…åˆ TVBOXçš„alistæœç´¢ï¼Œé…ç½®åœ°å€ https://ä½ çš„åŸŸå/tvbox/my.jsonï¼Œæ ¼å¼ï¼šhttps://ä½ çš„åŸŸå ï¼ˆæœ€åä¸è¦åŠ  /) touch /etc/xiaoyaAlist/docker_address.txt # æŒ‚è½½è‡ªå·±ä¸€ä¸ªæˆ–å¤šä¸ª pikpakè´¦å·ï¼ŒæŒ‚è½½å \u0026#34;è´¦å·\u0026#34; \u0026#34;å¯†ç \u0026#34; ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ï¼ˆpikpak2 â€œabc@hotmail.com\u0026#34; \u0026#34;123456\u0026#34;ï¼‰ï¼Œæ¯è¡Œä¸€ä¸ª æŒ‚è½½åä¸èƒ½æœ‰ç©ºæ ¼ touch /etc/xiaoyaAlist/pikpak_list.txt # æŒ‚è½½è‡ªå·±ä¸€ä¸ªæˆ–å¤šä¸ª pikpakåˆ†äº« æ ¼å¼ï¼šæŒ‚è½½å åˆ†äº«ID åˆ†äº«ç›®å½• ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ï¼ˆèµµéœ¸é“ VNRT8Wr8BGyw1kt1HkijKR4Qo1 VNQf6ZmWE3pVWGpuFriGqyPzo1ï¼‰ï¼Œæ¯è¡Œä¸€ä¸ª æŒ‚è½½åä¸èƒ½æœ‰ç©ºæ ¼ touch /etc/xiaoyaAlist/pikpakshare_list.txt # æŒ‚è½½è‡ªå®šä¹‰åˆ†äº«ID æ ¼å¼ï¼šæŒ‚è½½å é˜¿é‡Œåˆ†äº«ID(/folderå‰) æ–‡ä»¶folder id(/folderå)ï¼Œç”¨ç©ºæ ¼åˆ†å¼€ï¼Œæ¯è¡Œä¸€ä¸ª (120Tç”µå½±èµ„æº ZpevUcDZ2Pn 636c8ba0703acd24cd44b19dd00312ef15b1e8) æŒ‚è½½åä¸èƒ½æœ‰ç©ºæ ¼ touch /etc/xiaoyaAlist/pikpakshare_list.txt docker stop xiaoyaAlist # åœæ­¢æ—§çš„docker docker rm xiaoyaAlist # åˆ é™¤æ—§çš„docker docker pull xiaoyaliu/alist:latest # æ‹‰å–æœ€æ–°çš„docker # å°†é…ç½®æ–‡ä»¶å¤¹/etc/xiaoyaAlistæŒ‚è½½åˆ°dockerå†…éƒ¨çš„/dataæ–‡ä»¶å¤¹,å°†dockerçš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„8888ç«¯å£,è®¾ç½®è‡ªåŠ¨é‡å¯,è®¾ç½®dockeråç§°ä¸ºxiaoyaAlist,å¹¶å¯åŠ¨docker docker run -d -p 8888:80 -v /etc/xiaoyaAlist:/data --restart=always --name=xiaoyaAlist xiaoyaliu/alist:latest 2ã€è®¾ç½®é˜¿é‡Œäº‘ç›˜Token\né˜¿é‡Œäº‘ç›˜çš„Tokenè·å–æ•™ç¨‹\nvim /etc/xiaoyaAlist/mytoken.txt 3ã€è®¾ç½®é˜¿é‡Œäº‘ç›˜Open Token\né˜¿é‡Œäº‘ç›˜Opençš„Tokenè·å–æ•™ç¨‹\nvim /etc/xiaoyaAlist/myopentoken.txt 4ã€è®¾ç½®è½¬å­˜ç›®å½•ID\næ‰“å¼€é˜¿é‡Œäº‘ç›˜ è¿›å…¥è½¬å­˜ç›®å½• æ‹·è´åœ°å€æ ä¸­fold/åä¸€ä¸²ID vim /etc/xiaoyaAlist/temp_transfer_folder_id.txt 5ã€è®¾ç½®è‡ªå®šä¹‰å¯†ç \né»˜è®¤ç”¨æˆ·åï¼šdav\nvim /etc/xiaoyaAlist/guestpass.txt åœ¨guestpass.txtæ–‡ä»¶ä¸­è¾“å…¥è‡ªå®šä¹‰å¯†ç ï¼Œæœ€å¥½ä¸è¦åŒ…å«ç‰¹æ®Šå­—ç¬¦\n6ã€é‡å¯docker\nsudo systemctl restart docker 7ã€é€šè¿‡Cloudfareæˆ–å…¶å®ƒDNSè§£ææœåŠ¡å°†åŸŸåè§£æåˆ°æœåŠ¡å™¨\n8ã€é€šè¿‡å®å¡”ç•Œé¢å°†åŸŸååä»£åˆ°8443ç«¯å£ï¼Œå¹¶å¼€å¯https\n9ã€è®¿é—®åŸŸåå³å¯\nç½‘ç«™éœ€è¦å¯¹èµ„æºè¿›è¡Œç´¢å¼•ï¼Œå¤§æ¦‚ä¼šæŒç»­åå‡ åˆ†é’Ÿ\nå®šæ—¶ä¸ç½‘ç«™åŒæ­¥æ•°æ® crontab -e 0 6 * * * docker restart xiaoya å¦‚ä½•ä½¿ç”¨ 1ã€potplayer 2ã€nplayer å‚è€ƒèµ„æ–™ [1] å¦‚ä½•è®¾ç½®xiaoyaçš„docker [2] AListæ–‡æ¡£\n","permalink":"https://edinik.com/posts/tech/build-online-player-alist/","summary":"äº‘æœåŠ¡å™¨/VPS çš„é…ç½® 1ã€æ–¹å¼ä¸€ï¼šä½¿ç”¨ä¸€é”®è„šæœ¬å®‰è£… ç¼ºç‚¹ï¼šæ— æ³•è‡ªå®šä¹‰é…ç½®ï¼Œåªèƒ½ä½¿ç”¨è„šæœ¬é»˜è®¤è®¾ç½® 1ã€æ¨èéhostæ¨¡å¼ä¸‹æ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼ˆå¯ä»¥å…±äº«ä¸»æœºç«¯å£ï¼‰ hostæ¨¡å¼æ— æ³•æ˜ å°„dockerç«¯å£åˆ°ä¸»æœº éhostæ¨¡å¼ä¸‹ä¼šå°†dockerçš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„8443ç«¯å£ # éhostæ¨¡å¼å®‰è£… bash -c","title":"Alist | åœ¨çº¿æ’­æ”¾æœåŠ¡æ­å»º"},{"content":"å®å¡”é¢æ¿çš„å®‰è£… å®‰è£…å®å¡”ç•Œé¢æœ€å¥½å…¨æ–°ç³»ç»Ÿå®‰è£…\nDebian wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh \u0026amp;\u0026amp; bash install.sh ed8484bec Ubuntu/Deepin wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh \u0026amp;\u0026amp; sudo bash install.sh ed8484bec CentOS yum install -y wget \u0026amp;\u0026amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh \u0026amp;\u0026amp; sh install.sh ed8484bec nginxçš„å®‰è£… è½¯ä»¶å•†åº— -\u0026gt; Nginx -\u0026gt; å®‰è£… dockerçš„å®‰è£… è½¯ä»¶å•†åº— -\u0026gt; Docker -\u0026gt; å®‰è£… åŸŸåè§£æ é€šè¿‡Cloudfareæˆ–å…¶ä»–DNSæœåŠ¡å•†è§£æåŸŸååˆ°æœåŠ¡å™¨IP vaultwardençš„å®‰è£… ä¸è¦ä½¿ç”¨é»˜è®¤çš„ADMIN_TOKENï¼ŒåŠ¡å¿…ä¿®æ”¹ä¸ºä¸€ä¸ªéšæœºçš„å¯†ç \ndocker run -d --restart always --name vaultwarden -e TZ=Asia/Shanghai -e ADMIN_TOKEN=some_random_token -v /vaultwarden-data/:/data/ -p 8443:80 vaultwarden/server:latest -dï¼šæŒ‡å®šå®¹å™¨è¿è¡Œäºå‰å°æˆ–è€…åå°ï¼ˆé»˜è®¤ä¸º false è¡¨ç¤ºåå°ï¼‰ \u0026ndash;restart alwaysï¼šè‡ªåŠ¨å¯åŠ¨ï¼ˆåœ¨å®¿ä¸»æœºé‡å¯åæˆ–è€… Docker æœåŠ¡é‡å¯åï¼‰ \u0026ndash;name vaultwardenï¼šæŒ‡å®šå®¹å™¨åç§°ä¸º vaultwarden -e TZ=Asia/Shanghaiï¼šè®¾ç½®æ—¶åŒº -e LOG_FILE=/data/log/vaultwarden.logï¼šè®¾ç½®æ—¥å¿—æ–‡ä»¶è·¯å¾„ -e ADMIN_TOKEN=some_random_tokenï¼šè®¾ç½® ADMIN_TOKEN ç¯å¢ƒå˜é‡ä»¥å¯ç”¨ç®¡ç†é¡µé¢ -v /vaultwarden-data/:/data/ï¼šæŒ‚è½½å®¹å™¨çš„ data ç›®å½•åˆ°å®¿ä¸»æœºçš„ vaultwarden-data ç›®å½•ä¸Š -p 8443:80ï¼šæŒ‡å®šå®¹å™¨çš„ 80 ç«¯å£æš´éœ²åœ¨å®¿ä¸»æœºçš„ 8443 ç«¯å£ä¸Š vaultwardençš„é…ç½® é…ç½®å®Œåå‘ä»£ç†å’ŒSSLè¯ä¹¦åï¼Œéœ€è¦é‡å¯Nginx\n1ã€é€šè¿‡å®å¡”é¢æ¿é…ç½®åå‘ä»£ç† ç«™ç‚¹ -\u0026gt; æ·»åŠ ç«™ç‚¹ -\u0026gt; åå‘ä»£ç† -\u0026gt; æ˜ å°„8443ç«¯å£åˆ°åŸŸå 2ã€é€šè¿‡å®å¡”é¢æ¿é…ç½®SSLè¯ä¹¦ ç«™ç‚¹ -\u0026gt; ç«™ç‚¹ç®¡ç† -\u0026gt; è¯ä¹¦ -\u0026gt; ç”³è¯·è¯ä¹¦ -\u0026gt; é€‰æ‹©åŸŸå -\u0026gt; é€‰æ‹©è¯ä¹¦ç±»å‹ -\u0026gt; æäº¤ç”³è¯· 3ã€ç®¡ç†ç•Œé¢ åœ°å€ï¼šhttps://åŸŸå/admin å¯†ç ï¼šADMIN_TOKENå­—æ®µè®¾ç½®çš„å€¼ ç¦æ­¢æ–°ç”¨æˆ·æ³¨å†Œï¼š\nAllow new signupsï¼šfalse æ³¨å†Œæ–°ç”¨æˆ·ï¼š\nUsers-\u0026gt;Invite User-\u0026gt;è¾“å…¥é‚®ç®± æµè§ˆå™¨è¾“å…¥åŸŸå-\u0026gt;è¿›å…¥ç™»å½•ç•Œé¢-\u0026gt;æ³¨å†Œ æ›´æ–°vaultwarden 1ã€æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„ç¨³å®šç‰ˆé•œåƒ\n# æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„ç¨³å®šç‰ˆé•œåƒ docker pull vaultwarden/server:latest 2ã€åœæ­¢æ—§ç‰ˆæœ¬å®¹å™¨\n# åœæ­¢æ—§ç‰ˆæœ¬å®¹å™¨ docker stop vaultwarden 3ã€ç§»é™¤æ—§ç‰ˆæœ¬å®¹å™¨\n# ç§»é™¤æ—§ç‰ˆæœ¬å®¹å™¨ docker rm vaultwarden 4ã€ä½¿ç”¨å·²æŒ‚è½½çš„æ•°æ®åˆ›å»ºæ–°çš„å®¹å™¨\næ³¨æ„ä¿®æ”¹ADMIN_TOKENçš„å€¼\n# ä½¿ç”¨å·²æŒ‚è½½çš„æ•°æ®åˆ›å»ºæ–°çš„å®¹å™¨ docker run -d --restart always --name vaultwarden -e TZ=Asia/Shanghai -e ADMIN_TOKEN=some_random_token -v /vaultwarden-data/:/data/ -p 8443:80 vaultwarden/server:latest è‡ªåŠ¨å¤‡ä»½æ•°æ® 1ã€åˆ›å»º Dropbox åº”ç”¨ ç™»å½• Dropbox åï¼Œæ‰“å¼€ App Console é¡µé¢ï¼Œç‚¹å‡» Create app æŒ‰é’®åˆ›å»ºä¸€ä¸ª App Choose an API â†’ å‹¾é€‰ Scoped access Choose the type of access you need â†’ é€‰æ‹© App folder Name your app â†’ è¾“å…¥ App åç§°ï¼ˆå¿…é¡»æ˜¯ä¸å­˜åœ¨çš„åç§°ï¼Œå·²å­˜åœ¨ä¼šæœ‰æç¤ºå·²è¢«å ç”¨ï¼‰ï¼Œæ­¤åç§°ä¼šä½œä¸º Dropbox ä¸Šæ­¤ App å¯è¯»å†™çš„æ–‡ä»¶å¤¹åç§° åˆ›å»ºæˆåŠŸåï¼Œè¿›å…¥åº”ç”¨ åœ¨ Permissions é€‰é¡¹å¡ä¸‹çš„ Files and folders éƒ¨åˆ†ï¼Œå‹¾é€‰Files.metadata.writeã€Files.metadata.readã€Files.content.writeã€Files.content.readå››ä¸ªæƒé™, ç‚¹å‡»é¡µé¢ä¸‹æ–¹Submit æŒ‰é’®ä¿å­˜ 2ã€ä¸Šä¼ å¹¶é…ç½®è„šæœ¬ SSH å®šä½åˆ° VPS çš„ root ç›®å½•ï¼Œä¸‹è½½ dropbox_uploader.sh è„šæœ¬æ–‡ä»¶å¹¶èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼Œç„¶åè¿è¡Œè„šæœ¬ï¼š\nwget https://raw.github.com/andreafabrizi/Dropbox-Uploader/master/dropbox_uploader.sh chmod +x dropbox_uploader.sh # èµ‹äºˆå¯æ‰§è¡Œæƒé™ ./dropbox_uploader.sh # è¿è¡Œæ­¤è„šæœ¬é…ç½® access token è¾“å…¥App key è¾“å…¥App secret ç‚¹å‡»è®¤è¯é“¾æ¥ï¼Œç™»å½• Dropbox è´¦å·å¹¶æˆæƒï¼Œè·å–è®¿é—®ç  è¾“å…¥è®¿é—®ç  ä¿®æ”¹è®¿é—®ç ï¼š\nvim .dropbox_uploader 3ã€åˆ›å»ºè‡ªå·±çš„å¤‡ä»½è„šæœ¬ vim /root/vaultwarden-data_backup.sh å¤åˆ¶å¹¶ç²˜å¸–å¦‚ä¸‹å†…å®¹ï¼š\n# è¿™ä¸ªæ”¹æˆä½ å­˜æ”¾åˆšåˆšä¸‹è½½ä¸‹æ¥çš„ dropbox_uploader.sh çš„æ–‡ä»¶å¤¹ä½ç½® SCRIPT_DIR=\u0026#34;/root\u0026#34; # è¿™ä¸ªæ”¹æˆä½ çš„å¤‡ä»½æ–‡ä»¶æƒ³è¦æ”¾åœ¨ Dropbox ä¸Šçš„æ–‡ä»¶å¤¹åç§°ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»º BACK_DIR=\u0026#34;/vaultwarden-data\u0026#34; # è¿™ä¸ªæ˜¯ä½ æƒ³è¦å¤‡ä»½çš„æœ¬åœ° VPS ä¸Šçš„æ–‡ä»¶å¤¹ï¼Œä¸åŒçš„ç›®å½•ç”¨ç©ºæ ¼åˆ†å¼€ BACKUP_SRC=\u0026#34;/vaultwarden-data\u0026#34; # è¿™ä¸ªæ˜¯ä½ æš‚æ—¶å­˜æ”¾å¤‡ä»½å‹ç¼©æ–‡ä»¶çš„åœ°æ–¹ï¼Œè¿™é‡Œæˆ‘ä»¬æ”¾åœ¨ /tmp/vaultwarden-data-backup ä¸‹ BACKUP_DST=\u0026#34;tmp/vaultwarden-data-backup\u0026#34; # å®šä¹‰å¤‡ä»½æ–‡ä»¶çš„åç§° ## å®šä¹‰å½“å‰æ—¥æœŸçš„å¤‡ä»½æ–‡ä»¶ BACKUP_FILE=vaultwarden-data_$(date +\u0026#34;%Y-%m-%d\u0026#34;).tar.gz ## å®šä¹‰ 6 å¤©å‰çš„å¤‡ä»½æ–‡ä»¶ OLD_BACKUP_FILE_6=vaultwarden-data_$(date -d -6day +\u0026#34;%Y-%m-%d\u0026#34;).tar.gz ## å®šä¹‰ 15 å¤©å‰çš„å¤‡ä»½æ–‡ä»¶ OLD_BACKUP_FILE_15=vaultwarden-data_$(date -d -15day +\u0026#34;%Y-%m-%d\u0026#34;).tar.gz # åˆ é™¤ VPS ä¸Š 6 å¤©å‰çš„å¤‡ä»½æ–‡ä»¶ rm -rf \u0026#34;$BACKUP_DST/$OLD_BACKUP_FILE_6\u0026#34; # å¯¹å¤‡ä»½æ–‡ä»¶å¤¹è¿›è¡Œå‹ç¼©æ‰“åŒ… tar zcf \u0026#34;$BACKUP_DST/$BACKUP_FILE\u0026#34; $BACKUP_SRC # ä¸Šä¼ å¤‡ä»½æ–‡ä»¶åˆ° Dropbox $SCRIPT_DIR/dropbox_uploader.sh upload \u0026#34;$BACKUP_DST/$BACKUP_FILE\u0026#34; \u0026#34;$BACK_DIR/$BACKUP_FILE\u0026#34; # åˆ é™¤ Dropbox ä¸Š 15 å¤©å‰çš„å¤‡ä»½æ–‡ä»¶ $SCRIPT_DIR/dropbox_uploader.sh delete \u0026#34;$BACK_DIR/$OLD_BACKUP_FILE_15\u0026#34; èµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š\nchmod +x /root/vaultwarden-data_backup.sh åˆ›å»ºå¤‡ä»½æ–‡ä»¶å¤¹ï¼š\ncd ~ mkdir tmp cd tmp mkdir vaultwarden-data-backup è¾“å…¥ ./vaultwarden-data_backup.sh æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬ï¼Œä»¥æµ‹è¯•èƒ½å¦æˆåŠŸå¤‡ä»½ã€‚\n4ã€åˆ›å»ºè‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ crontab -e # æ‰“å¼€å®šæ—¶ä»»åŠ¡ 0 4 * * * /root/vaultwarden-data_backup.sh # æ·»åŠ ä¸€è¡Œæ–°ä»»åŠ¡ï¼šæ¯å¤©å‡Œæ™¨ 4 ç‚¹è‡ªåŠ¨æ‰§è¡Œæ­¤è„šæœ¬ service crond restart # é‡å¯å®šæ—¶ä»»åŠ¡ æ—¥å¿—è½¬å‚¨ å¦‚æœä½ æƒ³ä¿ç•™æ—¥å¿—è®°å½•ï¼Œåˆä¸å¸Œæœ›æ—¥å¿—è®°å½•æ–‡ä»¶å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œå¯ä»¥è®¾ç½®å®šæœŸè½¬å‚¨æ—¥å¿—è®°å½•ã€‚\nåˆ›å»ºæ—¥å¿—è½¬å‚¨è§„åˆ™æ–‡ä»¶ï¼š\nvim /etc/logrotate.d/vaultwarden å¤åˆ¶å¹¶ç²˜å¸–å¦‚ä¸‹å†…å®¹ï¼š\n# å…¶ä»–é…ç½®é¡¹ä½¿ç”¨ logrotate é…ç½®æ–‡ä»¶ /etc/logrotate.conf ä¸­çš„é»˜è®¤å€¼ /vaultwarden-data/log/vaultwarden.log { daily rotate 30 missingok copytruncate noolddir dateext postrotate find /vaultwarden-data/log/ -name vaultwarden.log\u0026#34;-`(date +%Y%m%d)`\u0026#34; -exec mv {} /vaultwarden-data/log/vaultwarden\u0026#34;-`(date +%Y%m%d)`\u0026#34;.log \\; endscript } è¿™é‡Œè®¾ç½®ä¸ºæ¯å¤©è½¬å‚¨ä¸€æ¬¡ï¼ˆå¦‚æœæ—¥å¿—è®°å½•æ¯”è¾ƒå°‘ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºæ¯å‘¨æˆ–æ¯æœˆï¼‰ï¼Œå¹¶ä¿ç•™ 30 ä¸ªè½¬å‚¨çš„æ—¥å¿—è®°å½•æ–‡ä»¶ã€‚\né…ç½®è§£é‡Šï¼š\ndailyï¼šdaily æŒ‡å®šè½¬å‚¨å‘¨æœŸä¸ºæ¯å¤©ã€‚ä¹Ÿå¯ä»¥ä¸º weekly/monthly ã€‚é»˜è®¤ä¸º weeklyã€‚ rotate 30ï¼šè¡¨ç¤ºè½¬å‚¨å¤‡ä»½çš„æ•°é‡ã€‚è¿™é‡Œä¸º 30 ä¸ªã€‚ missingokï¼šåœ¨æ—¥å¿—è½¬å‚¨æœŸé—´ï¼Œä»»ä½•é”™è¯¯å°†è¢«å¿½ç•¥ã€‚ copytruncateï¼šç”¨äºè¿˜åœ¨æ‰“å¼€ä¸­çš„æ—¥å¿—æ–‡ä»¶ã€‚æŠŠå½“å‰æ—¥å¿—æˆªæ–­å¹¶å¤‡ä»½ï¼Œç„¶åå†æ¸…ç©ºã€‚ç”±äºå¤‡ä»½å’Œæ¸…ç©ºä¹‹é—´æœ‰ä¸€ä¸ªæ—¶é—´å·®ï¼Œå¯èƒ½ä¼šä¸¢å¤±éƒ¨åˆ†æ—¥å¿—æ•°æ®ã€‚ noolddirï¼šè½¬å‚¨åçš„æ—¥å¿—æ–‡ä»¶å’Œå½“å‰æ—¥å¿—æ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚ dateextï¼šæŒ‡å®šè½¬å‚¨åçš„æ—¥å¿—æ–‡ä»¶ä»¥å½“å‰æ—¥æœŸæ ¼å¼ç»“å°¾ã€‚å¦‚ vaultwarden.log-20201020ã€‚ postrotate/endscriptï¼šåœ¨è½¬å‚¨ä¹‹åéœ€è¦æ‰§è¡Œçš„å‘½ä»¤å¯ä»¥æ”¾å…¥è¿™ä¸ªè¯­å¥å¯¹ä¸­ï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—å¿…é¡»å•ç‹¬æˆè¡Œã€‚åŒæ ·ï¼Œprerotate/endscript è¡¨ç¤ºåœ¨è½¬å‚¨ä¹‹å‰éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚ å‚è€ƒèµ„æ–™ å®å¡”é¢æ¿å®˜æ–¹ç½‘ç«™ Vaultwardenéƒ¨ç½²å’Œä½¿ç”¨ ","permalink":"https://edinik.com/posts/tech/establishing-bitwarden-server/","summary":"å®å¡”é¢æ¿çš„å®‰è£… å®‰è£…å®å¡”ç•Œé¢æœ€å¥½å…¨æ–°ç³»ç»Ÿå®‰è£… Debian wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh \u0026amp;\u0026amp; bash install.sh ed8484bec Ubuntu/Deepin wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh \u0026amp;\u0026amp; sudo bash install.sh ed8484bec CentOS yum install -y wget \u0026amp;\u0026amp; wget -O install.sh https://download.bt.cn/install/install_6.0.sh \u0026amp;\u0026amp; sh install.sh ed8484bec nginxçš„å®‰è£… è½¯ä»¶å•†åº— -\u0026gt; Nginx -\u0026gt; å®‰è£… dockerçš„å®‰è£… è½¯ä»¶å•†åº— -\u0026gt; Docker -\u0026gt; å®‰è£… åŸŸåè§£æ é€šè¿‡Cloudfareæˆ–å…¶ä»–DNSæœåŠ¡å•†è§£æåŸŸååˆ°æœåŠ¡å™¨IP vaultwardençš„å®‰è£… ä¸è¦ä½¿","title":"vaultwarden  | ä¸ªäººå¯†ç ç®¡ç†å™¨æ­å»º"},{"content":"ä¸€ä¸ªèŠ‚ç‚¹ flowchart LR åŒ—äº¬ flowchart LR åŒ—äº¬ ä¸€ä¸ªå¸¦æ–‡æœ¬çš„èŠ‚ç‚¹ flowchart LR åŒ—äº¬[åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½] flowchart LR åŒ—äº¬[åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½] æµç¨‹å›¾æ–¹å‘ ä»å·¦åˆ°å³ flowchart LR åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart LR åŒ—äº¬--\u003eä¸Šæµ· ä»å³åˆ°å·¦ flowchart RL åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart RL åŒ—äº¬--\u003eä¸Šæµ· ä»ä¸Šåˆ°ä¸‹ flowchart TB åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart TB åŒ—äº¬--\u003eä¸Šæµ· ä»ä¸‹åˆ°ä¸Š flowchart BT åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart BT åŒ—äº¬--\u003eä¸Šæµ· èŠ‚ç‚¹æ ·å¼ åœ†è§’èŠ‚ç‚¹ flowchart LR åŒ—äº¬(åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½) flowchart LR åŒ—äº¬(åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½) åŠåœ†å¼§èŠ‚ç‚¹ flowchart LR å¼€å§‹([å¼€å§‹]) flowchart LR å¼€å§‹([å¼€å§‹æµç¨‹]) å­æµç¨‹èŠ‚ç‚¹ flowchart LR å­æµç¨‹[[è¿™æ˜¯ä¸€ä¸ªå­æµç¨‹]] flowchart LR å­æµç¨‹[[è¿™æ˜¯ä¸€ä¸ªå­æµç¨‹]] åœ†æŸ±å½¢èŠ‚ç‚¹ flowchart LR æ•°æ®åº“[(æ•°æ®åº“)] flowchart LR æ•°æ®åº“[(æ•°æ®åº“)] åœ†å½¢èŠ‚ç‚¹ flowchart LR åœ†å½¢((è¿™æ˜¯ä¸€ä¸ªåœ†å½¢)) flowchart LR åœ†å½¢((è¿™æ˜¯ä¸€ä¸ªåœ†å½¢)) éå¯¹ç§°å½¢çŠ¶èŠ‚ç‚¹ flowchart LR éå¯¹ç§°å½¢çŠ¶\u0026gt;è¿™æ˜¯ä¸€ä¸ªéå¯¹ç§°å½¢çŠ¶] flowchart LR éå¯¹ç§°å½¢çŠ¶\u003eè¿™æ˜¯ä¸€ä¸ªéå¯¹ç§°å½¢çŠ¶] è±å½¢èŠ‚ç‚¹ flowchart LR è±å½¢{è¿™æ˜¯ä¸€ä¸ªè±å½¢} flowchart LR è±å½¢{è¿™æ˜¯ä¸€ä¸ªè±å½¢} å…­è¾¹å½¢èŠ‚ç‚¹ flowchart LR å…­è¾¹å½¢{{è¿™æ˜¯ä¸€ä¸ªå…­è¾¹å½¢}} flowchart LR å…­è¾¹å½¢{{è¿™æ˜¯ä¸€ä¸ªå…­è¾¹å½¢}} å¹³è¡Œå››è¾¹å½¢èŠ‚ç‚¹ flowchart LR å¹³è¡Œå››è¾¹å½¢[/è¿™æ˜¯ä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢/] flowchart LR å¹³è¡Œå››è¾¹å½¢[/è¿™æ˜¯ä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢/] flowchart LR å¹³è¡Œå››è¾¹å½¢[\\è¿™æ˜¯ä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢\\] flowchart LR å¹³è¡Œå››è¾¹å½¢[\\è¿™æ˜¯ä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢\\] æ¢¯å½¢èŠ‚ç‚¹ flowchart LR æ¢¯å½¢[/è¿™æ˜¯ä¸€ä¸ªæ¢¯å½¢\\] flowchart LR æ¢¯å½¢[/è¿™æ˜¯ä¸€ä¸ªæ¢¯å½¢\\] flowchart LR æ¢¯å½¢[\\è¿™æ˜¯ä¸€ä¸ªæ¢¯å½¢/] flowchart LR æ¢¯å½¢[\\è¿™æ˜¯ä¸€ä¸ªæ¢¯å½¢/] åŒé‡åœ†ç¯èŠ‚ç‚¹ flowchart LR åŒé‡åœ†ç¯(((è¿™æ˜¯ä¸€ä¸ªåŒé‡åœ†ç¯))) flowchart LR åŒé‡åœ†ç¯(((è¿™æ˜¯ä¸€ä¸ªåŒé‡åœ†ç¯))) èŠ‚ç‚¹ä¹‹é—´çš„é“¾æ¥ å¸¦ç®­å¤´çš„é“¾æ¥ flowchart LR åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart LR åŒ—äº¬--\u003eä¸Šæµ· å¼€æ”¾çš„é“¾æ¥ flowchart LR åŒ—äº¬---ä¸Šæµ· flowchart LR åŒ—äº¬---ä¸Šæµ· é“¾æ¥ä¸Šçš„æ–‡å­— flowchart LR åŒ—äº¬---|G30|ä¸Šæµ· flowchart LR åŒ—äº¬---|G30|ä¸Šæµ· å¸¦æœ‰ç®­å¤´å’Œæ–‡æœ¬çš„é“¾æ¥ flowchart LR åŒ—äº¬--\u0026gt;|G30|ä¸Šæµ· flowchart LR åŒ—äº¬--\u003e|G30|ä¸Šæµ· è™šçº¿é“¾æ¥ flowchart LR åŒ—äº¬-.-\u0026gt;ä¸Šæµ· flowchart LR åŒ—äº¬-.-\u003eä¸Šæµ· å¸¦æ–‡æœ¬çš„è™šçº¿é“¾æ¥ flowchart LR åŒ—äº¬-.-\u0026gt;|G30|ä¸Šæµ· flowchart LR åŒ—äº¬-.-\u003e|G30|ä¸Šæµ· åŠ ç²—é“¾æ¥ flowchart LR åŒ—äº¬==\u0026gt;ä¸Šæµ· flowchart LR åŒ—äº¬==\u003eä¸Šæµ· å¸¦æ–‡æœ¬çš„åŠ ç²—é“¾æ¥ flowchart LR åŒ—äº¬==\u0026gt;|G30|ä¸Šæµ· flowchart LR åŒ—äº¬==\u003e|G30|ä¸Šæµ· é“¾å¼é“¾æ¥ flowchart LR åŒ—äº¬--\u0026gt;ä¸Šæµ·--\u0026gt;å¹¿å· flowchart LR åŒ—äº¬--\u003e|G30|ä¸Šæµ·--\u003e|G40|å¹¿å· flowchart LR åŒ—äº¬--\u0026gt;ä¸Šæµ· \u0026amp; æ­å·--\u0026gt;å¹¿å· flowchart LR åŒ—äº¬--\u003eä¸Šæµ· \u0026 æ­å·--\u003eå¹¿å· flowchart LR ä¸Šæµ· \u0026amp; æ­å·--\u0026gt;å¹¿å· \u0026amp; æ·±åœ³ flowchart TB ä¸Šæµ· \u0026 æ­å·--\u003eå¹¿å· \u0026 æ·±åœ³ æ–°å‹ç®­å¤´é“¾æ¥ flowchart LR åŒ—äº¬ --o ä¸Šæµ· --x å¹¿å· flowchart LR åŒ—äº¬ --o ä¸Šæµ· --x å¹¿å· åŒå‘ç®­å¤´ flowchart LR åŒ—äº¬\u0026lt;--\u0026gt;ä¸Šæµ·o--oå¹¿å·x--xæ·±åœ³ flowchart LR åŒ—äº¬ \u003c--\u003e ä¸Šæµ· o--o å¹¿å· x--x æ·±åœ³ é“¾æ¥çš„æœ€å°é•¿åº¦ flowchart TB A[å¼€å§‹] --\u0026gt; B[è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ] B --\u0026gt; C{è®¤è¯æˆåŠŸ ?} C --\u0026gt;|æ˜¯| D[ç™»å½•æˆåŠŸ] C --\u0026gt;|å¦| E[ç™»å½•å¤±è´¥] D --\u0026gt; F[è¿›å…¥ç³»ç»Ÿ] F ----\u0026gt; I E --\u0026gt; G{æ˜¯å¦é‡æ–°ç™»å½• ?} G --\u0026gt;|æ˜¯| B G --\u0026gt;|å¦| H[é€€å‡ºç³»ç»Ÿ] H --\u0026gt; I[ç»“æŸ] flowchart TB A[å¼€å§‹] --\u003e B[è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ] B --\u003e C{è®¤è¯æˆåŠŸ ?} C --\u003e|æ˜¯| D[ç™»å½•æˆåŠŸ] C --\u003e|å¦| E[ç™»å½•å¤±è´¥] D --\u003e F[è¿›å…¥ç³»ç»Ÿ] F ----\u003e I E --\u003e G{æ˜¯å¦é‡æ–°ç™»å½• ?} G --\u003e|æ˜¯| B G --\u003e|å¦| H[é€€å‡ºç³»ç»Ÿ] H --\u003e I[ç»“æŸ] ç‰¹æ®Šå­—ç¬¦ flowchart LR A[\u0026#34;è¿™æ˜¯ä¸€ä¸ª(æ‹¬å·)å­—ç¬¦\u0026#34;] flowchart LR A[\"è¿™æ˜¯ä¸€ä¸ª(æ‹¬å·)å­—ç¬¦\"] è½¬ä¹‰å­—ç¬¦çš„ä»£ç  flowchart LR A[\u0026#34;è¿™æ˜¯ä¸€ä¸ªåŒå¼•å·:#quot;\u0026#34;] --\u0026gt; B[\u0026#34;è¿™æ˜¯ä¸€ä¸ªå•å¼•å·:#39;\u0026#34;] --\u0026gt; C[\u0026#34;è¿™æ˜¯ä¸€ä¸ªçˆ±å¿ƒ:#9829;\u0026#34;] flowchart LR A[\"è¿™æ˜¯ä¸€ä¸ªåŒå¼•å·:#quot;\"] --\u003e B[\"è¿™æ˜¯ä¸€ä¸ªå•å¼•å·:#39;\"] --\u003e C[\"è¿™æ˜¯ä¸€ä¸ªçˆ±å¿ƒ:#9829;\"] å­å›¾è¡¨ flowchart TB subgraph one[ä¸­å›½] c1[åŒ—äº¬]--\u0026gt;c2[ä¸Šæµ·] end subgraph two[æ—¥æœ¬] b1[ä¸œäº¬]--\u0026gt;b2[å¤§é˜ª] end subgraph three[ç¾å›½] a1[çº½çº¦]--\u0026gt;a2[åç››é¡¿] end a1--\u0026gt;c2 flowchart TB subgraph one[ä¸­å›½] c1[åŒ—äº¬]--\u0026gt;c2[ä¸Šæµ·] end subgraph two[æ—¥æœ¬] b1[ä¸œäº¬]--\u0026gt;b2[å¤§é˜ª] end subgraph three[ç¾å›½] a1[çº½çº¦]--\u0026gt;a2[åç››é¡¿] end a1--\u0026gt;c2 flowchart TB subgraph one[ç¾å›½] a1[çº½çº¦]--\u0026gt;a2[åç››é¡¿] end subgraph two[æ—¥æœ¬] b1[ä¸œäº¬]--\u0026gt;b2[å¤§é˜ª] end subgraph three[ä¸­å›½] c1[åŒ—äº¬]--\u0026gt;c2[ä¸Šæµ·] end c1--\u0026gt;a2 one--\u0026gt;two three--\u0026gt;two two--\u0026gt;c2 flowchart TB subgraph one[ç¾å›½] a1[çº½çº¦]--\u0026gt;a2[åç››é¡¿] end subgraph two[æ—¥æœ¬] b1[ä¸œäº¬]--\u0026gt;b2[å¤§é˜ª] end subgraph three[ä¸­å›½] c1[åŒ—äº¬]--\u0026gt;c2[ä¸Šæµ·] end c1--\u0026gt;a2 one--\u0026gt;two three--\u0026gt;two two--\u0026gt;c2 å­å›¾è¡¨ä¸­çš„æ–¹å‘ flowchart LR subgraph 10[ä¸­å›½] direction TB subgraph 11[åŒ—äº¬] direction LR 111[ä¸œåŸåŒº] 112[è¥¿åŸåŒº] 113[æœé˜³åŒº] 111--\u0026gt;112--\u0026gt;113 end subgraph 12[ä¸Šæµ·] direction TB 121[é»„æµ¦åŒº] 122[å¾æ±‡åŒº] 123[é•¿å®åŒº] 121--\u0026gt;122--\u0026gt;123 end end A[ç¾å›½]--\u0026gt;10[ä¸­å›½] --\u0026gt;B[æ—¥æœ¬] 11 --\u0026gt; 12 flowchart LR subgraph 10[ä¸­å›½] direction TB subgraph 11[åŒ—äº¬] direction LR 111[ä¸œåŸåŒº] 112[è¥¿åŸåŒº] 113[æœé˜³åŒº] 111--\u0026gt;112--\u0026gt;113 end subgraph 12[ä¸Šæµ·] direction TB 121[é»„æµ¦åŒº] 122[å¾æ±‡åŒº] 123[é•¿å®åŒº] 121--\u0026gt;122--\u0026gt;123 end end A[ç¾å›½]--\u0026gt;10[ä¸­å›½] --\u0026gt;B[æ—¥æœ¬] 11 --\u0026gt; 12 äº¤äº’ flowchart LR A[Google] B[Github] C[Wikipedia] A--\u0026gt;B--\u0026gt;C click A \u0026#34;https://www.google.com\u0026#34; \u0026#34;google\u0026#34; click A href \u0026#34;https://www.google.com\u0026#34; \u0026#34;google\u0026#34; click B \u0026#34;https://www.github.com\u0026#34; \u0026#34;github\u0026#34; click B href \u0026#34;https://www.github.com\u0026#34; \u0026#34;github\u0026#34; click C \u0026#34;https://www.wikipedia.org\u0026#34; \u0026#34;wikipedia\u0026#34; click C href \u0026#34;https://www.wikipedia.org\u0026#34; \u0026#34;wikipedia\u0026#34; flowchart LR A[Google] B[Github] C[Wikipedia] A--\u0026gt;B--\u0026gt;C click A \u0026#34;https://www.google.com\u0026#34; \u0026#34;google\u0026#34; click A href \u0026#34;https://www.google.com\u0026#34; \u0026#34;google\u0026#34; click B \u0026#34;https://www.github.com\u0026#34; \u0026#34;github\u0026#34; click B href \u0026#34;https://www.github.com\u0026#34; \u0026#34;github\u0026#34; click C \u0026#34;https://www.wikipedia.org\u0026#34; \u0026#34;wikipedia\u0026#34; click C href \u0026#34;https://www.wikipedia.org\u0026#34; \u0026#34;wikipedia\u0026#34; æ³¨é‡Š flowchart LR %% è¿™æ˜¯ä¸€æ®µæ³¨é‡Š %% è¿™æ˜¯å¦ä¸€æ®µæ³¨é‡Š A[Google] B[Github] C[Wikipedia] A--\u0026gt;B--\u0026gt;C flowchart LR %% è¿™æ˜¯ä¸€æ®µæ³¨é‡Š %% è¿™æ˜¯å¦ä¸€æ®µæ³¨é‡Š A[Google] B[Github] C[Wikipedia] A--\u0026gt;B--\u0026gt;C ","permalink":"https://edinik.com/posts/tech/guide-to-using-mermaid-flowcharts/","summary":"ä¸€ä¸ªèŠ‚ç‚¹ flowchart LR åŒ—äº¬ flowchart LR åŒ—äº¬ ä¸€ä¸ªå¸¦æ–‡æœ¬çš„èŠ‚ç‚¹ flowchart LR åŒ—äº¬[åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½] flowchart LR åŒ—äº¬[åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½] æµç¨‹å›¾æ–¹å‘ ä»å·¦åˆ°å³ flowchart LR åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart LR åŒ—äº¬--\u003eä¸Šæµ· ä»å³åˆ°å·¦ flowchart RL åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart RL åŒ—äº¬--\u003eä¸Šæµ· ä»ä¸Šåˆ°ä¸‹ flowchart TB åŒ—äº¬--\u0026gt;ä¸Šæµ· flowchart TB åŒ—äº¬--\u003eä¸Šæµ· ä»ä¸‹åˆ°ä¸Š flowchart BT åŒ—äº¬--\u0026g","title":"mermaid | æµç¨‹å›¾"},{"content":" Edison\u0026#39;s Blog ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ Peter\u0026#39;s Blog ç´¯ç‚¹æ»´æŠ€æœ¯ï¼Œå“ç™¾å‘³äººç”Ÿã€‚ ğŸ‘‰å‹é“¾æ ¼å¼ åç§°ï¼š Edison\u0026rsquo;s Blog ç½‘å€ï¼š https://blog.themostmoon.today å›¾æ ‡ï¼š https://blog.themostmoon.today/img/logo.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾ç”³è¯·è¦æ±‚ ç§‰æ‰¿äº’æ¢å‹é“¾åŸåˆ™ã€æ–‡ç« å®šæœŸæ›´æ–°ã€ä¸èƒ½æœ‰å¤ªå¤šå¹¿å‘Šã€ä¸ªäººæè¿°å­—æ•°æ§åˆ¶åœ¨15å­—å†… ","permalink":"https://edinik.com/links/","summary":"Edison\u0026#39;s Blog ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ Peter\u0026#39;s Blog ç´¯ç‚¹æ»´æŠ€æœ¯ï¼Œå“ç™¾å‘³äººç”Ÿã€‚ ğŸ‘‰å‹é“¾æ ¼å¼ åç§°ï¼š Edison\u0026rsquo;s Blog ç½‘å€ï¼š https://blog.themostmoon.today å›¾æ ‡ï¼š https://blog.themostmoon.today/img/logo.gif æè¿°ï¼š ä¸€ä¸ªè®°å½•æŠ€æœ¯ã€é˜…è¯»ã€ç”Ÿæ´»çš„åšå®¢ ğŸ‘‰å‹é“¾ç”³è¯·è¦æ±‚ ç§‰æ‰¿äº’æ¢å‹é“¾åŸåˆ™ã€æ–‡ç« å®šæœŸæ›´æ–°ã€ä¸èƒ½æœ‰å¤ªå¤šå¹¿å‘Šã€ä¸ªäººæè¿°å­—æ•°æ§åˆ¶åœ¨15å­—å†…","title":"ğŸ¤ å‹é“¾"},{"content":" è‹±æ–‡å: Edison Chu èŒä¸š: ç¨‹åºå‘˜ çˆ±å¥½: æ‘„å½±ã€çˆ¬å±±ã€éª‘è¡Œ ","permalink":"https://edinik.com/about/","summary":"è‹±æ–‡å: Edison Chu èŒä¸š: ç¨‹åºå‘˜ çˆ±å¥½: æ‘„å½±ã€çˆ¬å±±ã€éª‘è¡Œ","title":"ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº"},{"content":"C# çš„ System.IO.Compression å‘½åç©ºé—´ä¸­æä¾›äº† ZipArchive ç±»ï¼Œå®ƒå¯ä»¥ç”¨äºåˆ›å»ºã€æ‰“å¼€å’Œæ“ä½œ ZIP æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ç”¨æ³•ç¤ºä¾‹ï¼š\nåˆ›å»ºzipæ–‡ä»¶ è¦åˆ›å»ºä¸€ä¸ª ZIP æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨ ZipArchive ç±»çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå¹¶å°†å…¶ä¸è¾“å‡ºæµï¼ˆä¾‹å¦‚æ–‡ä»¶æµï¼‰ç›¸å…³è”ã€‚ç„¶åä½¿ç”¨ CreateEntry æ–¹æ³•åœ¨ ZIP æ–‡ä»¶ä¸­æ·»åŠ æ¡ç›®ã€‚\nusing System.IO.Compression; using var stream = new FileStream(\u0026#34;example.zip\u0026#34;, FileMode.Create); using var zip = new ZipArchive(stream, ZipArchiveMode.Create); var entry = zip.CreateEntry(\u0026#34;example.txt\u0026#34;); using var writer = new StreamWriter(entry.Open()); writer.Write(\u0026#34;Hello world!\u0026#34;); ä»zipæ–‡ä»¶ä¸­è¯»å–æ¡ç›® è¦ä» ZIP æ–‡ä»¶ä¸­è¯»å–æ¡ç›®ï¼Œéœ€è¦ä½¿ç”¨ ZipArchive ç±»çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå¹¶å°†å…¶ä¸è¾“å…¥æµï¼ˆä¾‹å¦‚æ–‡ä»¶æµï¼‰ç›¸å…³è”ã€‚ç„¶åä½¿ç”¨ GetEntry æ–¹æ³•æ¥è·å–æ¡ç›®ï¼Œå¹¶ä½¿ç”¨ Open æ–¹æ³•æ¥è·å–æ¡ç›®çš„è¾“å…¥æµã€‚\nusing System.IO.Compression; using var stream = new FileStream(\u0026#34;example.zip\u0026#34;, FileMode.Open); using var zip = new ZipArchive(stream, ZipArchiveMode.Read); foreach (var entry in zip.Entries) { Console.WriteLine($\u0026#34;Entry:{entry.FullName},Size:{entry.Length} bytes\u0026#34;); using var reader = new StreamReader(entry.Open()); Console.WriteLine(reader.ReadToEnd()); } ä¿®æ”¹ zip æ–‡ä»¶ è¦ä¿®æ”¹ä¸€ä¸ª ZIP æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ ZipArchive ç±»çš„ CreateEntry æ–¹æ³•åˆ›å»ºæ–°æ¡ç›®ï¼Œæˆ–è€…ä½¿ç”¨ GetEntry æ–¹æ³•è·å–ç°æœ‰æ¡ç›®å¹¶ä¿®æ”¹å…¶å†…å®¹ã€‚å¯ä»¥ä½¿ç”¨ Delete æ–¹æ³•åˆ é™¤ç°æœ‰æ¡ç›®ã€‚\nusing System.IO.Compression; using var stream = new FileStream(\u0026#34;example.zip\u0026#34;, FileMode.OpenOrCreate); using var zip = new ZipArchive(stream, ZipArchiveMode.Update); // æ·»åŠ ä¸€ä¸ªæ–°çš„æ¡ç›® var entry1 = zip.CreateEntry(\u0026#34;new.txt\u0026#34;); using (var writer = new StreamWriter(entry1.Open())) { writer.Write(\u0026#34;This is a new file.\u0026#34;); } // ä¿®æ”¹ä¸€ä¸ªå·²å­˜åœ¨çš„æ¡ç›® var entry2 = zip.GetEntry(\u0026#34;example.txt\u0026#34;); if (entry2 != null) { using var writer = new StreamWriter(entry2.Open()); writer.Write(\u0026#34;This file has been modified.\u0026#34;); } // åˆ é™¤ä¸€ä¸ªå·²å­˜åœ¨çš„æ¡ç›® var entry3 = zip.GetEntry(\u0026#34;old.txt\u0026#34;); entry3?.Delete(); ","permalink":"https://edinik.com/posts/tech/usage-of-ziparchive-in-csharp/","summary":"C# çš„ System.IO.Compression å‘½åç©ºé—´ä¸­æä¾›äº† ZipArchive ç±»ï¼Œå®ƒå¯ä»¥ç”¨äºåˆ›å»ºã€æ‰“å¼€å’Œæ“ä½œ ZIP æ–‡ä»¶ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„ç”¨æ³•ç¤ºä¾‹ï¼š åˆ›å»ºzipæ–‡ä»¶ è¦åˆ›å»ºä¸€ä¸ª ZIP æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨ ZipArchive ç±»çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå¹¶å°†å…¶ä¸è¾“å‡ºæµï¼ˆä¾‹å¦‚æ–‡ä»¶æµï¼‰ç›¸å…³è”ã€‚ç„¶åä½¿ç”¨ CreateEntry æ–¹æ³•åœ¨ ZIP æ–‡ä»¶ä¸­æ·»åŠ æ¡ç›®ã€‚ using System.IO.Compression; using var stream = new FileStream(\u0026#34;example.zip\u0026#34;, FileMode.Create); using var zip = new ZipArchive(stream, ZipArchiveMode.Create); var entry = zip.CreateEntry(\u0026#34;example.txt\u0026#34;); using var writer = new StreamWriter(entry.Open());","title":"csharp | ziparchiveçš„ç”¨æ³•"},{"content":"ä»‹ç» åœ¨C#ç¼–ç¨‹ä¸­ï¼Œstringå’ŒStringBuilderæ˜¯ä¸¤ç§å¸¸ç”¨çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒä»¬åœ¨åº”ç”¨åœºæ™¯å’Œæ€§èƒ½ä¸Šæœ‰ç€æ˜æ˜¾çš„å·®å¼‚ã€‚stringæ˜¯ä¸å¯å˜çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½ä¿®æ”¹ï¼Œå› æ­¤å®ƒé€‚ç”¨äºéœ€è¦é¢‘ç¹è¯»å–è€Œä¸éœ€è¦ä¿®æ”¹çš„åœºæ™¯ï¼›è€ŒStringBuilderæ˜¯å¯å˜çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯ä»¥åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²çš„åœºæ™¯ã€‚\næœ¬æ–‡å°†ä»å®šä¹‰ã€åŒºåˆ«ã€åº”ç”¨åœºæ™¯å’Œæ€§èƒ½ç­‰æ–¹é¢ä»‹ç»stringå’ŒStringBuilderçš„å·®å¼‚ï¼Œå¹¶è¿›è¡Œæ€§èƒ½æ¯”è¾ƒï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©è¯»è€…æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨è¿™ä¸¤ç§å­—ç¬¦ä¸²ç±»å‹\nstringå’ŒStringBuilderçš„åŸºæœ¬æ¦‚å¿µ string stringæ˜¯C#ä¸­çš„ä¸€ç§ä¸å¯å˜å­—ç¬¦ä¸²ç±»å‹ï¼Œè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå®ƒå­˜å‚¨åœ¨å †å†…å­˜ä¸­ã€‚ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªstringå¯¹è±¡ï¼Œå°±ä¸èƒ½ä¿®æ”¹å®ƒçš„å€¼ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„stringå¯¹è±¡ã€‚è¿™ç§ä¸å¯å˜æ€§å¸¦æ¥äº†ä¸€äº›ä¼˜ç‚¹ï¼Œä¾‹å¦‚æ›´å®‰å…¨ã€æ›´å®¹æ˜“ç¼“å­˜ã€æ›´å®¹æ˜“å…±äº«ç­‰ï¼Œä½†ä¹Ÿå¸¦æ¥äº†ä¸€äº›æ€§èƒ½é—®é¢˜ï¼Œä¾‹å¦‚é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ä¼šå ç”¨å¤§é‡çš„å†…å­˜å’ŒCPUæ—¶é—´ã€‚\nStringBuilder StringBuilderæ˜¯C#ä¸­çš„ä¸€ç§å¯å˜å­—ç¬¦ä¸²ç±»å‹ï¼Œè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œå®ƒä¹Ÿå­˜å‚¨åœ¨å †å†…å­˜ä¸­ã€‚ä¸stringä¸åŒï¼ŒStringBuilderå¯¹è±¡å¯ä»¥åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ç¼“å†²åŒºä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸éœ€è¦åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚å› æ­¤ï¼ŒStringBuilderé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²çš„åœºæ™¯ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²è¿æ¥ã€æ›¿æ¢ã€æ’å…¥ç­‰ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒStringBuilderå¯¹è±¡æ˜¯å¯å˜çš„ï¼Œä½†ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œéœ€è¦é‡‡å–æªæ–½æ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚å¯ä»¥ä½¿ç”¨é”æˆ–è€…ä½¿ç”¨ThreadLocalç±»åˆ›å»ºå¤šä¸ªStringBuilderå¯¹è±¡ï¼Œæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹ä½¿ç”¨ä¸€ä¸ªStringBuilderå¯¹è±¡ï¼Œä»¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚\nåŒºåˆ« stringå’ŒStringBuilderçš„å®šä¹‰å’Œç”¨æ³• åœ¨C#ä¸­ï¼Œstringå’ŒStringBuilderéƒ½æ˜¯ç”¨äºè¡¨ç¤ºå­—ç¬¦ä¸²çš„ç±»å‹ã€‚å®ƒä»¬çš„å®šä¹‰å’Œç”¨æ³•æœ‰æ‰€ä¸åŒï¼š\nstring:\nstring str = \u0026#34;hello\u0026#34;; StringBuilderï¼š\nStringBuilder sb = new StringBuilder(\u0026#34;hello\u0026#34;); stringå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªstringå¯¹è±¡ï¼Œå°±ä¸èƒ½ä¿®æ”¹å®ƒçš„å€¼ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„stringå¯¹è±¡ã€‚StringBuilderå¯¹è±¡æ˜¯å¯å˜çš„ï¼Œå¯ä»¥åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ç¼“å†²åŒºä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸éœ€è¦åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚\nå†…å­˜åˆ†é…å’Œç®¡ç† stringå’ŒStringBuilderçš„å†…å­˜åˆ†é…å’Œç®¡ç†æ–¹å¼ä¹Ÿä¸åŒã€‚\nstringå¯¹è±¡çš„å†…å­˜æ˜¯åœ¨å †å†…å­˜ä¸Šåˆ†é…çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç”±åƒåœ¾å›æ”¶å™¨æ§åˆ¶ã€‚å½“stringå¯¹è±¡ä¸å†è¢«å¼•ç”¨æ—¶ï¼Œå®ƒçš„å†…å­˜å°†è¢«åƒåœ¾å›æ”¶å™¨è‡ªåŠ¨å›æ”¶ã€‚\nStringBuilderå¯¹è±¡ä¹Ÿæ˜¯åœ¨å †å†…å­˜ä¸Šåˆ†é…çš„ï¼Œä½†æ˜¯å®ƒä½¿ç”¨äº†å¯å˜å¤§å°çš„å†…éƒ¨ç¼“å†²åŒºã€‚å½“StringBuilderå¯¹è±¡çš„ç¼“å†²åŒºä¸è¶³ä»¥å­˜å‚¨æ–°çš„å­—ç¬¦æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é‡æ–°åˆ†é…ä¸€ä¸ªæ›´å¤§çš„ç¼“å†²åŒºï¼ŒåŒæ—¶å°†æ—§çš„ç¼“å†²åŒºé‡Šæ”¾æ‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šå¯¼è‡´ä¸€å®šçš„æ€§èƒ½å¼€é”€ï¼Œä½†æ˜¯å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œä»è€Œå‡å°‘äº†å†…å­˜å‹åŠ›ã€‚\nå­—ç¬¦ä¸²è¿æ¥å’Œä¿®æ”¹æ–¹å¼ stringå’ŒStringBuilderçš„å­—ç¬¦ä¸²è¿æ¥å’Œä¿®æ”¹æ–¹å¼ä¹Ÿä¸åŒã€‚\nå¯¹äºstringå¯¹è±¡ï¼Œæ¯æ¬¡è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„stringå¯¹è±¡ï¼Œè¿™æ ·ä¼šå¯¼è‡´é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œä»è€Œå ç”¨å¤§é‡çš„å†…å­˜å’ŒCPUæ—¶é—´ã€‚\nä¾‹å¦‚ï¼š\nstring str = \u0026#34;hello\u0026#34;; str += \u0026#34; world\u0026#34;; ä¸Šè¿°ä»£ç ä¼šåˆ›å»ºä¸¤ä¸ªstringå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯\u0026quot;hello\u0026quot;ï¼Œå¦ä¸€ä¸ªæ˜¯\u0026quot; world\u0026quot;ï¼Œç„¶åå†å°†å®ƒä»¬è¿æ¥èµ·æ¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„stringå¯¹è±¡\u0026quot;hello world\u0026quot;ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­åˆ›å»ºäº†ä¸‰ä¸ªstringå¯¹è±¡ï¼Œå³\u0026quot;hello\u0026quot;ã€\u0026quot; world\u0026quot;å’Œ\u0026quot;hello world\u0026quot;ã€‚\nå¯¹äºStringBuilderå¯¹è±¡ï¼Œæ¯æ¬¡è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šåœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ç¼“å†²åŒºä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸éœ€è¦åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚è¿™æ ·å¯ä»¥é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯å¯¹è±¡ï¼Œä»è€Œå‡å°‘äº†å†…å­˜å’ŒCPUçš„å¼€é”€ã€‚\nä¾‹å¦‚ï¼š\nStringBuilder sb = new StringBuilder(\u0026#34;hello\u0026#34;); sb.Append(\u0026#34; world\u0026#34;); ä¸Šè¿°ä»£ç åªåˆ›å»ºäº†ä¸€ä¸ªStringBuilderå¯¹è±¡ï¼Œç„¶ååœ¨å®ƒçš„ç¼“å†²åŒºä¸Šæ·»åŠ äº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²\u0026quot; world\u0026quot;ï¼Œæœ€ç»ˆå¾—åˆ°çš„å­—ç¬¦ä¸²æ˜¯\u0026quot;hello world\u0026quot;ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­åªåˆ›å»ºäº†ä¸€ä¸ªStringBuilderå¯¹è±¡ï¼Œæ²¡æœ‰åˆ›å»ºä»»ä½•æ–°çš„stringå¯¹è±¡ã€‚\næ€»ä¹‹ï¼Œstringé€‚ç”¨äºéœ€è¦é¢‘ç¹è¯»å–è€Œä¸éœ€è¦ä¿®æ”¹çš„åœºæ™¯ï¼Œè€ŒStringBuilderé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²çš„åœºæ™¯ã€‚éœ€è¦æ ¹æ®å®é™…çš„ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²ç±»å‹ã€‚\nåº”ç”¨åœºæ™¯ stringçš„é€‚ç”¨åœºæ™¯ stringé€‚ç”¨äºéœ€è¦é¢‘ç¹è¯»å–è€Œä¸éœ€è¦ä¿®æ”¹çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š\nå­—ç¬¦ä¸²å¸¸é‡ å­—ç¬¦ä¸²çš„æ¯”è¾ƒã€æŸ¥æ‰¾ã€æˆªå–ç­‰æ“ä½œ å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–è¾“å‡º ä¾‹å¦‚ï¼š\nstring str1 = \u0026#34;hello\u0026#34;; // å­—ç¬¦ä¸²å¸¸é‡ string str2 = \u0026#34;world\u0026#34;; string str3 = str1 + \u0026#34; \u0026#34; + str2; // å­—ç¬¦ä¸²è¿æ¥ if (str1.Equals(\u0026#34;hello\u0026#34;)) // å­—ç¬¦ä¸²æ¯”è¾ƒ { Console.WriteLine(\u0026#34;str1 equals hello\u0026#34;); } string substr = str3.Substring(0, 5); // å­—ç¬¦ä¸²æˆªå– Console.WriteLine(substr); string formatstr = string.Format(\u0026#34;str1={0}, str2={1}\u0026#34;, str1, str2); // å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡º Console.WriteLine(formatstr); StringBuilderçš„é€‚ç”¨åœºæ™¯ StringBuilderé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼š\nå¤§é‡å­—ç¬¦ä¸²çš„è¿æ¥ å¤§é‡å­—ç¬¦ä¸²çš„æ›¿æ¢ã€æ’å…¥ç­‰æ“ä½œ ä¾‹å¦‚ï¼š\nStringBuilder sb = new StringBuilder(\u0026#34;hello\u0026#34;); for (int i = 0; i \u0026lt; 10000; i++) { sb.Append(\u0026#34; world\u0026#34;); // å¤§é‡å­—ç¬¦ä¸²çš„è¿æ¥ } string str = sb.ToString(); Console.WriteLine(str); sb.Replace(\u0026#34;world\u0026#34;, \u0026#34;csharp\u0026#34;); // å¤§é‡å­—ç¬¦ä¸²çš„æ›¿æ¢ sb.Insert(0, \u0026#34;welcome to \u0026#34;); // å¤§é‡å­—ç¬¦ä¸²çš„æ’å…¥ string newstr = sb.ToString(); Console.WriteLine(newstr); æ€»ä¹‹ï¼Œéœ€è¦æ ¹æ®å®é™…çš„ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚å¦‚æœéœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²ï¼Œå»ºè®®ä½¿ç”¨StringBuilderï¼Œå¦åˆ™å¯ä»¥ä½¿ç”¨stringã€‚åŒæ—¶ï¼Œå¯¹äºå¤§é‡çš„å­—ç¬¦ä¸²æ“ä½œï¼Œå»ºè®®ä½¿ç”¨StringBuilderï¼Œå¯ä»¥é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯stringå¯¹è±¡ï¼Œæé«˜æ€§èƒ½ã€‚\næ€§èƒ½æ¯”è¾ƒ å¯¹äºå­—ç¬¦ä¸²çš„æ“ä½œï¼Œæ€§èƒ½æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ã€‚ä¸‹é¢é€šè¿‡å®éªŒå¯¹æ¯”stringå’ŒStringBuilderçš„æ€§èƒ½ã€‚\nå®éªŒæ–¹æ³• é€šè¿‡ä¸€ä¸ªå¾ªç¯ï¼Œåˆ†åˆ«ä½¿ç”¨stringå’ŒStringBuilderå¯¹å­—ç¬¦ä¸²è¿›è¡Œ10000æ¬¡çš„è¿æ¥æ“ä½œï¼Œç„¶åè®¡ç®—æ¯æ¬¡æ“ä½œçš„è€—æ—¶ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š\nusing System; using System.Diagnostics; using System.Text; namespace StringTest { class Program { static void Main(string[] args) { // test string string str = \u0026#34;\u0026#34;; Stopwatch sw = new Stopwatch(); sw.Start(); for (int i = 0; i \u0026lt; 10000; i++) { str += \u0026#34;hello world\u0026#34;; } sw.Stop(); Console.WriteLine(\u0026#34;test string: \u0026#34; + sw.ElapsedMilliseconds + \u0026#34; ms\u0026#34;); // test StringBuilder StringBuilder sb = new StringBuilder(); sw.Reset(); sw.Start(); for (int i = 0; i \u0026lt; 10000; i++) { sb.Append(\u0026#34;hello world\u0026#34;); } sw.Stop(); Console.WriteLine(\u0026#34;test StringBuilder: \u0026#34; + sw.ElapsedMilliseconds + \u0026#34; ms\u0026#34;); } } } æ¯”è¾ƒç»“æœ åœ¨æˆ‘çš„æœºå™¨ä¸Šï¼Œè¿è¡Œä»¥ä¸Šä»£ç ï¼Œå¾—åˆ°çš„å®éªŒç»“æœå¦‚ä¸‹ï¼š\ntest string: 235 ms test StringBuilder: 0 ms å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨stringè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥çš„è€—æ—¶æ˜¯235æ¯«ç§’ï¼Œè€Œä½¿ç”¨StringBuilderè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥çš„è€—æ—¶åªæœ‰0æ¯«ç§’ï¼Œç›¸å·®éå¸¸æ˜æ˜¾ã€‚\nè¿™æ˜¯å› ä¸ºï¼Œstringåœ¨è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥æ—¶ï¼Œæ¯æ¬¡è¿æ¥éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„stringå¯¹è±¡ï¼Œè€ŒåŸæœ‰çš„stringå¯¹è±¡åˆ™æˆä¸ºåƒåœ¾å¯¹è±¡ï¼Œéœ€è¦è¿›è¡Œåƒåœ¾å›æ”¶ã€‚è€ŒStringBuilderåˆ™é€šè¿‡ä¿®æ”¹è‡ªèº«çš„å†…éƒ¨ç¼“å†²åŒºæ¥è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥ï¼Œé¿å…äº†é¢‘ç¹åˆ›å»ºå’Œé”€æ¯stringå¯¹è±¡ï¼Œå› æ­¤é€Ÿåº¦æ›´å¿«ã€‚\nå› æ­¤ï¼Œå¯¹äºå¤§é‡å­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œï¼Œå»ºè®®ä½¿ç”¨StringBuilderï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚\næ€»ç»“ æœ¬æ–‡ä»‹ç»äº†C#ç¼–ç¨‹ä¸­stringå’ŒStringBuilderçš„åŒºåˆ«ã€å„è‡ªçš„åº”ç”¨åœºæ™¯å’Œæ€§èƒ½æ¯”è¾ƒã€‚\nå¯ä»¥çœ‹åˆ°ï¼Œstringé€‚ç”¨äºéœ€è¦é¢‘ç¹è¯»å–è€Œä¸éœ€è¦ä¿®æ”¹çš„åœºæ™¯ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²å¸¸é‡ã€æ¯”è¾ƒã€æŸ¥æ‰¾ã€æˆªå–ã€æ ¼å¼åŒ–è¾“å‡ºç­‰æ“ä½œã€‚è€ŒStringBuilderé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹å­—ç¬¦ä¸²çš„åœºæ™¯ï¼Œä¾‹å¦‚å¤§é‡å­—ç¬¦ä¸²çš„è¿æ¥ã€æ›¿æ¢ã€æ’å…¥ç­‰æ“ä½œã€‚\nåœ¨æ€§èƒ½æ–¹é¢ï¼Œä½¿ç”¨stringè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥çš„è€—æ—¶æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè€Œä½¿ç”¨StringBuilderè¿›è¡Œå­—ç¬¦ä¸²è¿æ¥çš„è€—æ—¶åˆ™å¾ˆå°ï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚å› æ­¤ï¼Œå¯¹äºå¤§é‡å­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œï¼Œå»ºè®®ä½¿ç”¨StringBuilderï¼Œé¿å…ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚\næ€»ä¹‹ï¼Œæ ¹æ®å®é™…çš„ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æé«˜ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚\nå‚è€ƒæ–‡çŒ® [1] Microsoft Docs. String Class. https://docs.microsoft.com/en-us/dotnet/api/system.string?view=net-6.0\n[2] Microsoft Docs. StringBuilder Class. https://docs.microsoft.com/en-us/dotnet/api/system.text.stringbuilder?view=net-6.0\n[3] C# Program Examples. Difference between String and StringBuilder in C#. https://www.c-sharpcorner.com/article/difference-between-string-and-stringbuilder-in-c-sharp/\n","permalink":"https://edinik.com/posts/tech/difference-between-string-and-stringbuilder-in-csharp/","summary":"ä»‹ç» åœ¨C#ç¼–ç¨‹ä¸­ï¼Œstringå’ŒStringBuilderæ˜¯ä¸¤ç§å¸¸ç”¨çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒä»¬åœ¨åº”ç”¨åœºæ™¯å’Œæ€§èƒ½ä¸Šæœ‰ç€æ˜æ˜¾çš„å·®å¼‚ã€‚stringæ˜¯ä¸å¯å˜çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½ä¿®æ”¹ï¼Œå› æ­¤å®ƒé€‚ç”¨äºéœ€è¦é¢‘ç¹è¯»å–è€Œä¸éœ€è¦ä¿®æ”¹çš„åœºæ™¯ï¼›è€ŒStringBuilderæ˜¯å¯å˜çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå¯ä»¥åœ¨åŸæœ‰çš„å­—","title":"csharp | string vs stringbuilder"}]